const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/task-manager-Di9FvUSR.css"])))=>i.map(i=>d[i]);
var J=Object.defineProperty;var Q=(t,e,r)=>e in t?J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var I=(t,e,r)=>Q(t,typeof e!="symbol"?e+"":e,r);/* empty css               */import{a as H}from"./vendor-CNNbG8jS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const Y="modulepreload",G=function(t){return"/goit-team4-YourEnergy/"+t},P={},D=function(e,r,a){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),i=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));o=Promise.allSettled(r.map(c=>{if(c=G(c),c in P)return;P[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const l=document.createElement("link");if(l.rel=d?"stylesheet":Y,d||(l.as="script"),l.crossOrigin="",l.href=c,i&&l.setAttribute("nonce",i),document.head.appendChild(l),d)return new Promise((h,y)=>{l.addEventListener("load",h),l.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(n){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=n,window.dispatchEvent(i),!i.defaultPrevented)throw n}return o.then(n=>{for(const i of n||[])i.status==="rejected"&&s(i.reason);return e().catch(s)})},E=()=>"https://your-energy.b.goit.study/api",U=()=>E()+"/exercises",X=()=>E()+"/filters",Z=()=>E()+"/quote",ee=()=>E()+"/subscription",te=(t,e,r,a,o,s)=>`${U()}?bodypart=${t}&muscles=${e}&equipment=${r}&${a}=2&page=${o}&limit=${s}`,re=()=>ee();async function oe(){const t=new Date().toISOString().split("T")[0],e=localStorage.getItem("quote"),r=localStorage.getItem("author"),a=localStorage.getItem("quoteDate");if(e&&r&&a===t){document.querySelector(".sidebar-quote").textContent=`${e}`,document.querySelector(".sidebar-quote-author").textContent=`${r}`;return}try{const o=await fetch(Z());if(!o.ok)throw new Error("Failed to fetch quote");const s=await o.json(),n=s.quote,i=s.author;document.querySelector(".sidebar-quote").textContent=`${n}`,document.querySelector(".sidebar-quote-author").textContent=`${i}`,localStorage.setItem("quote",n),localStorage.setItem("author",i),localStorage.setItem("quoteDate",t)}catch(o){console.error("Error fetching quote:",o)}}oe();function _(t){return t.sort((e,r)=>e.name.localeCompare(r.name)).map(({filter:e,name:r,imgURL:a})=>`<li class='categories-item' data-name='${r}' data-filter='${e}' tabindex="0" 
             style="background-image:url('${a}');background-size:cover; background-repeat:no-repeat; background-position:center">         
             <h3 class="categories-item-title">${r}</h3>
             <p class="categories-item-text">${e}</p>   
          </li>`).join("")}function ae(t){return t.sort((e,r)=>e.name.localeCompare(r.name)).map(({_id:e,name:r,burnedCalories:a,bodyPart:o,target:s,gifUrl:n})=>`
        <li class='workouts-item' data-name='${r}' ' data-id='${e}'> 
          <h4 class="workout-btn">workout</h4>
          <button class="workouts-item-start">Start</button>        
          <h3 class="workouts-item-title">${r}</h3>
          <ul class='workouts-items-list'>
              <li class="workouts-items-calories">Calories: ${a}</li>
              <li class="workouts-items-body-part">Body Part: ${o}</li>
              <li class="workouts-items-target">Target: ${s}</li>
          </ul>
        </li>`).join("")}const se=document.querySelectorAll(".pagination"),v=(t,e)=>{let r=new DocumentFragment;for(let a=0;a<t;a++){let o=document.createElement("p");o.setAttribute("data-index",a),o.innerHTML=a+1,o.classList.add("pagination-page"),a===e&&o.classList.add("selected"),r.appendChild(o)}return r};se.forEach(t=>{if(t.hasAttribute("data-total")){t.innerHTML="";const e=parseInt(t.getAttribute("data-total")),r=parseInt(t.getAttribute("data-current"));t.appendChild(v(e,r)),t.addEventListener("click",async o=>{o.target.classList.contains("pagination-page")&&(t.querySelectorAll(".pagination-page").forEach(n=>{n.classList.remove("selected")}),o.target.classList.add("selected"),o.target.parentElement.setAttribute("data-current",o.target.getAttribute("data-index")))}),new MutationObserver(o=>{for(let s of o)if(s.type==="attributes"&&s.attributeName==="total-pages"){const n=t.getAttribute("total-pages");t.innerHTML="",t.appendChild(v(n,parseInt(t.getAttribute("current-page"))))}}).observe(t,{attributes:!0})}});const m=class m{constructor(){if(m.instance)return m.instance;this.backdrop=document.querySelector("[data-modal]"),this.closeBtn=document.querySelector("[data-modal-close]"),this.isOpen=!1,this.isFavorite=!1,this.backdrop||console.error("Modal backdrop not found"),this.closeBtn||console.error("Modal close button not found"),this.ratingBackdrop=document.querySelector("[data-rating-modal]"),this.ratingCloseBtn=document.querySelector("[data-rating-close]"),this.ratingForm=document.querySelector(".rating-form"),this.bindEvents(),m.instance=this}bindEvents(){if(this.closeBtn&&this.closeBtn.addEventListener("click",()=>this.close()),this.backdrop&&this.backdrop.addEventListener("click",r=>{r.target===this.backdrop&&this.close()}),document.addEventListener("keydown",r=>{r.key==="Escape"&&this.isOpen&&this.close()}),this.backdrop){const r=this.backdrop.querySelector(".modal-favorites-btn");r&&r.addEventListener("click",()=>this.toggleFavorite())}const e=this.backdrop.querySelector(".modal-rating-btn");e&&e.addEventListener("click",()=>this.openRatingModal()),this.ratingCloseBtn&&this.ratingCloseBtn.addEventListener("click",()=>this.closeRatingModal()),this.ratingBackdrop&&this.ratingBackdrop.addEventListener("click",r=>{r.target===this.ratingBackdrop&&this.closeRatingModal()}),this.ratingForm&&this.ratingForm.addEventListener("submit",r=>this.handleRatingSubmit(r))}async open(e){this.isOpen=!0,this.backdrop&&this.backdrop.classList.remove("is-hidden"),document.body.style.overflow="hidden",await this.updateContent(e)}close(){this.isOpen=!1,this.backdrop&&this.backdrop.classList.add("is-hidden"),this.ratingBackdrop&&(this.ratingBackdrop.classList.add("is-hidden"),this.ratingForm&&this.ratingForm.reset()),document.onkeydown=this.originalEscapeHandler,document.body.style.overflow=""}async updateContent(e){const{name:r,rating:a,target:o,bodyPart:s,equipment:n,popularity:i,burnedCalories:c,description:d,gifUrl:u,time:l=3}=e,h=this.backdrop.querySelector(".modal-title");h&&(h.textContent=r);const y=this.backdrop.querySelector(".modal-media-container");y&&u&&(y.innerHTML=`<img src="${u}" alt="${r}" />`);const z={Target:o,"Body Part":s,Equipment:n,Popular:i,"Burned Calories":`${c} / ${l} min`},S=this.backdrop.querySelector(".modal-parameters");S&&(S.innerHTML="",Object.entries(z).forEach(([K,V])=>{const q=document.createElement("li");q.className="parameter-item",q.innerHTML=`
          <p class="modal-parameter-label">${K}</p>
          <p class="modal-parameter-value">${V}</p>
        `,S.appendChild(q)}));const B=this.backdrop.querySelector(".modal-description");B&&(B.textContent=d);const $=this.backdrop.querySelector(".rating-value");$&&($.textContent=a)}toggleFavorite(){this.isFavorite=!this.isFavorite;const e=this.backdrop.querySelector(".modal-favorites-btn"),r=this.backdrop.querySelector(".rating-value");if(this.isFavorite){if(e.innerHTML=`
        Remove from favorites
        <svg class="modal-icon-heart">
          <use href="./img/sprite.svg#icon-delete"></use>
        </svg>
      `,e.classList.add("is-favorite"),r){const o=parseFloat(r.textContent);r.textContent=(o+.1).toFixed(1)}}else if(e.innerHTML=`
        Add to favorites
        <svg class="modal-icon-heart">
          <use href="./img/sprite.svg#icon-heart"></use>
        </svg>
      `,e.classList.remove("is-favorite"),r){const o=parseFloat(r.textContent);r.textContent=(o-.1).toFixed(1)}const a=e.querySelector(".modal-icon-heart");a&&(a.style.stroke=this.isFavorite?"#f4f4f4":"#242424"),e.style.transform="scale(0.95)",setTimeout(()=>{e.style.transform="scale(1)"},200)}openRatingModal(){this.ratingBackdrop&&this.backdrop&&(this.backdrop.classList.add("is-hidden"),this.ratingBackdrop.classList.remove("is-hidden"),this.originalEscapeHandler=document.onkeydown,document.onkeydown=e=>{e.key==="Escape"&&this.closeRatingModal()})}closeRatingModal(){this.ratingBackdrop&&this.backdrop&&(this.ratingBackdrop.classList.add("is-hidden"),this.backdrop.classList.remove("is-hidden"),this.ratingForm&&this.ratingForm.reset(),document.onkeydown=this.originalEscapeHandler)}async handleRatingSubmit(e){e.preventDefault();const r=this.ratingForm.querySelector("#rating-email").value.trim(),a=this.ratingForm.querySelector("#rating-comment").value.trim();if(!r||!a){console.log("Please fill in all fields");return}this.closeRatingModal()}};I(m,"instance",null);let w=m,F=null;document.addEventListener("DOMContentLoaded",()=>{if(!F)try{F=new w}catch(t){console.error("Error initializing modal:",t)}});let ne=document.querySelector(".workouts-container-list");const p=document.querySelector(".workouts-pagination");let f={bodypart:"",muscles:"",equipment:"",keyword:""};async function k(t="",e="",r="",a="",o=1,s=8){f={bodypart:t,muscles:e,equipment:r,keyword:a};try{const n=te(t,e,r,a,o,s=8);console.log(`Request URL: ${n}`);const i=await fetch(n);if(!i.ok)throw new Error("Failed to fetch workouts");const c=await i.json();ne.innerHTML=ae(c.results),ie(c.totalPages,o),document.querySelectorAll(".workouts-item-start").forEach(u=>{u.addEventListener("click",ce)})}catch(n){console.error("Error loading workouts:",n)}}function ie(t,e){p.innerHTML="",p.setAttribute("data-total",t),p.setAttribute("data-current",e-1),p.appendChild(v(t,e-1)),p.querySelectorAll(".pagination-page").forEach(r=>{r.addEventListener("click",a=>{const o=parseInt(r.getAttribute("data-index"))+1;k(f.bodypart,f.muscles,f.equipment,f.keyword,o)})})}async function ce(t){t.preventDefault();try{const r=t.target.closest(".workouts-item").dataset.id,a=await fetch(`${U()}/${r}`);if(!a.ok)throw new Error("Failed to fetch exercise details");const o=await a.json();window.modalWindow||(window.modalWindow=new w),window.modalWindow.open(o)}catch(e){console.error("Error opening modal window:",e)}}async function N(t="Muscles",e=1,r=12){r=window.innerWidth<=768?9:r;const{data:o}=await H.get(X(),{params:{filter:t,page:e,limit:r}});return o}let M=document.querySelector(".categories-list"),le=document.querySelector(".workouts-container");const A=document.querySelector(".categories-pagination");async function T(t){try{const e=await N(t);console.log(e),A.innerHTML="",e.totalPages>1&&(A.appendChild(v(e.totalPages,0)),document.querySelectorAll(".pagination-page").forEach(a=>a.addEventListener("click",de))),M.innerHTML=_(e.results),j()}catch(e){console.error("Error loading categories:",e)}}async function de(t){const r=Number(t.target.dataset.index)+1,a=document.querySelector(".filter-button.active"),o=a?a.dataset.filter:"";try{const s=await N(o,r);M.innerHTML=_(s.results),j()}catch(s){console.log(s)}}function j(){document.querySelectorAll(".categories-item").forEach(e=>{e.addEventListener("click",W)})}function W(t){t.target.removeEventListener("click",W),M.style.display="none";let e=t.target.dataset.name;switch(t.target.dataset.filter){case"Muscles":k("",encodeURIComponent(e),"","",1,10);break;case"Body parts":k(encodeURIComponent(e),"","","",1,10);break;case"Equipment":k("","",encodeURIComponent(e),"",1,10);break}le.style.display="flex"}T("Musculs");const L=document.querySelector(".subscribe-form"),C=L.elements.email;let g={email:""};const x="subscribe-form-state",ue=()=>{localStorage.setItem(x,JSON.stringify(g))},me=()=>{const t=localStorage.getItem(x);t&&(g=JSON.parse(t),C.value=g.email||"")};me();L.addEventListener("input",t=>{const{name:e,value:r}=t.target;g[e]=r.trim(),ue()});L.addEventListener("submit",async t=>{if(t.preventDefault(),!C.validity.valid){alert("Please enter a valid email");return}g.email=C.value.trim();try{const e=await H.post(re(),g);e.data.error?e.status===409?alert("This email is already subscribed."):alert("Subscription failed. Please try again later."):alert("Subscription successful!")}catch(e){e.response&&e.response.status===409?alert("This email is already subscribed."):alert("Subscription failed. Please try again later.")}L.reset(),localStorage.removeItem(x)});window.openMenu=function(){document.getElementById("backdrop").classList.add("is-open")};window.closeMenu=function(){document.getElementById("backdrop").classList.remove("is-open")};window.menuLayoutClickHandler=function(e){e.stopPropagation()};const ge=document.querySelector(".selected-category");document.querySelector(".categories-list");const R=document.querySelectorAll(".filter-button"),pe=document.querySelector("#search-form"),fe=document.querySelector("#search-input");R.forEach(t=>{t.addEventListener("click",e=>{let r=e.target.getAttribute("data-filter");r==="Body-parts"&&(r="Body parts"),T(r),R.forEach(a=>a.classList.remove("active")),e.target.classList.add("active")})});pe.addEventListener("submit",async t=>{t.preventDefault();const e=fe.value.trim(),r=ge.textContent.trim().split(" / ")[1];try{const a=await getExercises(r,e);he(a)}catch(a){console.error("Error loading exercises:",a)}});function he(t){console.log("Exercises found:",t)}T();const ye=()=>{const t=document.querySelector(".home-page"),e=document.querySelector(".favorites-page"),r=document.querySelector(".router");switch(window.location.pathname){case"/":r.children[0].classList.add("active"),r.children[1].classList.remove("active"),t.classList.remove("hidden"),e.classList.add("hidden");break;case"/favorites":r.children[0].classList.remove("active"),r.children[1].classList.add("active"),t.classList.add("hidden"),e.classList.remove("hidden");break}window.scrollTo(0,0)},be=new MutationObserver(()=>{ye()});be.observe(document,{childList:!0,subtree:!0});const b=document.querySelector(".router");document.querySelector("body");let O=0;window.addEventListener("scroll",()=>{b.classList.add("sticky");const t=document.documentElement.scrollTop;t>0?t>O?b.classList.add("hidden"):b.classList.remove("hidden"):b.classList.remove("sticky"),O=t});window.location.pathname.includes("task-management")&&D(()=>Promise.resolve({}),__vite__mapDeps([0]));async function ke(){if(!window.taskManager)try{const e=(await D(()=>import("./task-manager-M1fNHe4L.js"),[])).default;window.taskManager=new e,await new Promise(r=>setTimeout(r,200))}catch(t){return console.error("Error initializing TaskManager:",t),null}return window.taskManager}document.addEventListener("DOMContentLoaded",async()=>{try{if(window.location.pathname.includes("task-management")){await ke();const t=document.getElementById("addTaskBtn");t&&t.addEventListener("click",async e=>{e.preventDefault(),window.taskManager?window.taskManager.showModal():console.error("TaskManager not initialized")})}}catch(t){console.error("Error initializing task manager:",t)}});
//# sourceMappingURL=index-DTAPKJsr.js.map
