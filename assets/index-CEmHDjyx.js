const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/_task-manager-Di9FvUSR.css"])))=>i.map(i=>d[i]);
import{e as J,c as K,a as V,M as Y,g as $,f as G,s as Q}from"./menu-DgQbA_Y5.js";/* empty css               */import{a as R}from"./vendor-CNNbG8jS.js";const X="modulepreload",Z=function(e){return"/goit-team4-YourEnergy/"+e},x={},B=function(t,o,r){let a=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),c=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));a=Promise.allSettled(o.map(i=>{if(i=Z(i),i in x)return;x[i]=!0;const m=i.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${p}`))return;const l=document.createElement("link");if(l.rel=m?"stylesheet":X,m||(l.as="script"),l.crossOrigin="",l.href=i,c&&l.setAttribute("nonce",c),document.head.appendChild(l),m)return new Promise((A,w)=>{l.addEventListener("load",A),l.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${i}`)))})}))}function s(n){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=n,window.dispatchEvent(c),!c.defaultPrevented)throw n}return a.then(n=>{for(const c of n||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};function O(e){return e.sort((t,o)=>t.name.localeCompare(o.name)).map(({filter:t,name:o,imgURL:r})=>`<li class='categories-item' data-name='${o}' data-filter='${t}' tabindex="0"
             style="background-image:url('${r}');background-size:cover; background-repeat:no-repeat; background-position:center">
             <h3 class="categories-item-title">${o}</h3>
             <p class="categories-item-text">${t}</p>
          </li>`).join("")}let P=document.querySelector(".workouts-container-list");const u=document.querySelector(".m-workouts .workouts-pagination");let f={bodypart:"",muscles:"",equipment:"",keyword:""};async function g(e="",t="",o="",r="",a=1,s=10){f={bodypart:e,muscles:t,equipment:o,keyword:r};try{const n=J(e,t,o,r,a,s);console.log(`Request URL: ${n}`);const c=await fetch(n);if(!c.ok)throw new Error("Failed to fetch workouts");const i=await c.json();console.log("Received data:",i),P&&(P.innerHTML=K(i.results));const m=document.querySelector(".workouts-container"),p=document.querySelector(".workouts-container-list"),l=document.querySelector(".workouts-error");m&&(m.style.display="flex",p.style.display="flex",l.style.display="none"),i.results.length===0?(p.style.display="none",l.style.display="block",u.style.display="none"):i.results.length>0&&i.totalPages&&i.totalPages>0&&(u.style.display="flex",ee(i.totalPages,a)),document.querySelectorAll(".workout-start-btn").forEach(w=>{w.addEventListener("click",async N=>{N.preventDefault();const j=w.closest(".workouts-card").dataset.id;try{const k=await fetch(`${V()}/${j}`);if(!k.ok)throw new Error("Failed to fetch exercise details");const z=await k.json();window.modalWindow||(window.modalWindow=new Y),window.modalWindow.open(z)}catch(k){console.error("Error opening modal:",k)}})})}catch(n){console.error("Error loading workouts:",n)}}function ee(e,t){if(console.log("Setting up pagination:",{totalPages:e,currentPage:t}),!u){console.error("Pagination container not found");return}if(u.innerHTML="",u.style.display="flex",u.setAttribute("data-total",e),u.setAttribute("data-current",t-1),e>1){const o=$(e,t-1);u.appendChild(o),u.querySelectorAll(".pagination-page").forEach(r=>{r.addEventListener("click",a=>{a.preventDefault();const s=parseInt(r.getAttribute("data-index"))+1;console.log("Pagination clicked, page:",s),g(f.bodypart,f.muscles,f.equipment,f.keyword,s,10)})})}}async function U(e="Muscles",t=1,o=12){o=window.innerWidth<=768?9:o;const{data:a}=await R.get(G(),{params:{filter:e,page:t,limit:o}});return a}const te=document.querySelector(".filters-title"),oe=document.querySelector(".categories-list"),I=document.querySelectorAll(".filter-button"),E=document.querySelector("#search-form"),D=document.querySelector("#search-input");let F="Muscles";I.forEach(e=>{e.addEventListener("click",async t=>{let o=t.target.getAttribute("data-filter").replace("-"," ");F=o,await C(o),I.forEach(s=>s.classList.remove("active")),t.target.classList.add("active"),M(),L(!1);const r=document.querySelector(".m-workouts");r.style.display="none";const a=document.querySelector(".m-categories");a.style.display="flex"})});E==null||E.addEventListener("submit",async e=>{e.preventDefault();const t=encodeURIComponent(D.value.trim());switch(H){case"Muscles":g("",v,"",t,1,10);break;case"Body parts":g(v,"","",t,1,10);break;case"Equipment":g("","",v,t,1,10);break}D.value=""});function L(e){E.style.display=e?"block":"none"}function re(e){const t=e.currentTarget.dataset.name;M(t),oe.style.display="none",L(!0),ne()}function M(e=!1){te.innerHTML=e?'Exercises / <span class="selected-category">'+e+"</span>":"Exercises"}function ae(){document.querySelectorAll(".categories-item").forEach(t=>{t.addEventListener("click",re)})}document.addEventListener("DOMContentLoaded",async()=>{await C(F),ae(),L(!1)});async function ne(e,t=""){}let b=document.querySelector(".categories-list");document.querySelector(".workouts-container");const d=document.querySelector(".m-categories .categories-pagination");let v="",H="Muscles";async function C(e){const t=document.querySelector(".m-categories");t&&(t.style.display="flex");try{const o=await U(e);if(console.log("Categories data:",o),d&&(d.innerHTML="",o.totalPages>1)){d.style.display="flex",d.setAttribute("data-total",o.totalPages),d.setAttribute("data-current",0);const r=$(o.totalPages,0);d.appendChild(r),d.querySelectorAll(".pagination-page").forEach(a=>{a.addEventListener("click",se)})}b&&(b.innerHTML=O(o.results),W())}catch(o){console.error("Error loading categories:",o)}}async function se(e){e.preventDefault();const t=Number(e.target.dataset.index),o=t+1,r=document.querySelector(".filter-button.active"),a=r?r.dataset.filter.replace("-"," "):"";try{const s=await U(a,o);b&&(b.innerHTML=O(s.results),W()),d&&(d.setAttribute("data-current",t),d.querySelectorAll(".pagination-page").forEach(n=>{n.classList.remove("selected")}),e.target.classList.add("selected"))}catch(s){console.error("Error handling pagination:",s)}}function W(){document.querySelectorAll(".categories-item").forEach(t=>{t.addEventListener("click",ie)})}function ie(e){e.preventDefault();const t=document.querySelector(".m-categories"),o=document.querySelector(".m-workouts");if(t&&o){t.style.display="none",o.style.display="flex";const r=e.target.closest(".categories-item");if(!r)return;L(!0);const a=encodeURIComponent(r.dataset.name);v=a,M(r.dataset.name);const s=r.dataset.filter;switch(H=s,console.log(a),s){case"Muscles":g("",a,"","",1,10);break;case"Body parts":g(a,"","","",1,10);break;case"Equipment":g("","",a,"",1,10);break}}}document.addEventListener("DOMContentLoaded",()=>{C("Muscles")});const S=document.querySelector(".subscribe-form"),q=S.elements.email;let y={email:""};const T="subscribe-form-state",ce=()=>{localStorage.setItem(T,JSON.stringify(y))},le=()=>{const e=localStorage.getItem(T);e&&(y=JSON.parse(e),q.value=y.email||"")};le();S.addEventListener("input",e=>{const{name:t,value:o}=e.target;y[t]=o.trim(),ce()});S.addEventListener("submit",async e=>{if(e.preventDefault(),!q.validity.valid){alert("Please enter a valid email");return}y.email=q.value.trim();try{const t=await R.post(Q(),y);t.data.error?t.status===409?alert("This email is already subscribed."):alert("Subscription failed. Please try again later."):alert("Subscription successful!")}catch(t){t.response&&t.response.status===409?alert("This email is already subscribed."):alert("Subscription failed. Please try again later.")}S.reset(),localStorage.removeItem(T)});const h=document.querySelector(".router");document.querySelector("body");let _=0;window.addEventListener("scroll",()=>{const e=document.documentElement.scrollTop;document.body.hasAttribute("data-user-scrolling")&&(h.classList.add("sticky"),e>0?e>_?h.classList.add("hidden"):h.classList.remove("hidden"):h.classList.remove("sticky"),_=e)});document.addEventListener("wheel",()=>{document.body.setAttribute("data-user-scrolling","true"),setTimeout(()=>{document.body.removeAttribute("data-user-scrolling")},100)});window.location.pathname.includes("task-management")&&B(()=>Promise.resolve({}),__vite__mapDeps([0]));async function de(){if(!window.taskManager)try{const t=(await B(()=>import("./_task-manager-M1fNHe4L.js"),[])).default;window.taskManager=new t,await new Promise(o=>setTimeout(o,200))}catch(e){return console.error("Error initializing TaskManager:",e),null}return window.taskManager}document.addEventListener("DOMContentLoaded",async()=>{try{if(window.location.pathname.includes("task-management")){await de();const e=document.getElementById("addTaskBtn");e&&e.addEventListener("click",async t=>{t.preventDefault(),window.taskManager?window.taskManager.showModal():console.error("TaskManager not initialized")})}}catch(e){console.error("Error initializing task manager:",e)}});
//# sourceMappingURL=index-CEmHDjyx.js.map
