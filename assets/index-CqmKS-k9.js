const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/task-manager-Di9FvUSR.css"])))=>i.map(i=>d[i]);
var re=Object.defineProperty;var ae=(o,e,t)=>e in o?re(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var O=(o,e,t)=>ae(o,typeof e!="symbol"?e+"":e,t);/* empty css               */import{a as V}from"./vendor-CNNbG8jS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();const se="modulepreload",ne=function(o){return"/goit-team4-YourEnergy/"+o},H={},J=function(e,t,a){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),i=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));r=Promise.allSettled(t.map(c=>{if(c=ne(c),c in H)return;H[c]=!0;const d=c.endsWith(".css"),y=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${y}`))return;const l=document.createElement("link");if(l.rel=d?"stylesheet":se,d||(l.as="script"),l.crossOrigin="",l.href=c,i&&l.setAttribute("nonce",i),document.head.appendChild(l),d)return new Promise((f,v)=>{l.addEventListener("load",f),l.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(n){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=n,window.dispatchEvent(i),!i.defaultPrevented)throw n}return r.then(n=>{for(const i of n||[])i.status==="rejected"&&s(i.reason);return e().catch(s)})},x=()=>"https://your-energy.b.goit.study/api",K=()=>x()+"/exercises",ie=()=>x()+"/filters",ce=()=>x()+"/quote",le=()=>x()+"/subscription",de=(o,e,t,a,r,s)=>`${K()}?bodypart=${o}&muscles=${e}&equipment=${t}&keyword=${a}&page=${r}&limit=${s}`,ue=()=>le();async function me(){const o=new Date().toISOString().split("T")[0],e=localStorage.getItem("quote"),t=localStorage.getItem("author"),a=localStorage.getItem("quoteDate");if(e&&t&&a===o){document.querySelector(".sidebar-quote").textContent=`${e}`,document.querySelector(".sidebar-quote-author").textContent=`${t}`;return}try{const r=await fetch(ce());if(!r.ok)throw new Error("Failed to fetch quote");const s=await r.json(),n=s.quote,i=s.author;document.querySelector(".sidebar-quote").textContent=`${n}`,document.querySelector(".sidebar-quote-author").textContent=`${i}`,localStorage.setItem("quote",n),localStorage.setItem("author",i),localStorage.setItem("quoteDate",o)}catch(r){console.error("Error fetching quote:",r)}}me();function Y(o){return o.sort((e,t)=>e.name.localeCompare(t.name)).map(({filter:e,name:t,imgURL:a})=>`<li class='categories-item' data-name='${t}' data-filter='${e}' tabindex="0"
             style="background-image:url('${a}');background-size:cover; background-repeat:no-repeat; background-position:center">
             <h3 class="categories-item-title">${t}</h3>
             <p class="categories-item-text">${e}</p>
          </li>`).join("")}function ge(o){return o.sort((e,t)=>e.name.localeCompare(t.name)).map(({_id:e,name:t,burnedCalories:a,bodyPart:r,target:s,gifUrl:n,rating:i})=>{const d=Math.round(i).toFixed(1);return`
          <li class='workouts-card' data-name='${t}' data-id='${e}'>
            <div class="card-header">
              <div class="card-header_left-side">
                <span class="label">workout</span>
                <div class="rating-container">
                  <span class="rating">${d}</span>
                  <svg
                    class="star"
                    viewBox="0 0 16 16"
                    height="16"
                    width="16"
                    aria-hidden="true"
                  >
                    <use x="0" y="0" href="./img/icons.svg#icon-Star"></use>
                  </svg>
                </div>
                <div class="trash-container hide">
                  <svg width="16" height="16">
                    <use href="./img/icons.svg#icon-trash"></use>
                  </svg>
                </div>
               </div>
              <button type="button" class="workout-start-btn">
                Start
                  <svg
                    viewBox="0 0 16 16"
                    height="16"
                    width="16"
                    aria-hidden="true"
                  >
                    <use x="0" y="0" href="./img/icons.svg#icon-arrow"></use>
                  </svg>
              </button>
            </div>
            <div class="card-content">
              <svg
                class="card-icon"
                viewBox="0 0 24 24"
                height="20"
                width="24"
                aria-hidden="true"
              >
                <use x="0" y="0" href="./img/icons.svg#icon-running"></use>
              </svg>
              <h3 class="title text-overflow">${t}</h3>
            </div>
            <div class="card-footer">
              <ul class="card-footer_items">
                <li class="card-footer_item">Burned calories:: <span class="strong text-overflow item-one">${a}</span></li>
                <li class="card-footer_item">Body Part: <span class="strong text-overflow item-two">${r}</span></li>
                <li class="card-footer_item">Target: <span class="strong text-overflow item-three">${s}</span></li>
              </ul>
            </div>
          </li>`}).join("")}const E=(o,e)=>{let t=new DocumentFragment;for(let a=0;a<o;a++){let r=document.createElement("p");r.setAttribute("data-index",a),r.innerHTML=a+1,r.classList.add("pagination-page"),a===e&&r.classList.add("selected"),t.appendChild(r)}return t},fe=()=>{document.querySelectorAll(".pagination").forEach(e=>{if(e.hasAttribute("data-total")){e.innerHTML="";const t=parseInt(e.getAttribute("data-total")),a=parseInt(e.getAttribute("data-current"));e.appendChild(E(t,a)),e.addEventListener("click",async s=>{s.target.classList.contains("pagination-page")&&(s.preventDefault(),e.querySelectorAll(".pagination-page").forEach(i=>{i.classList.remove("selected")}),s.target.classList.add("selected"),e.setAttribute("data-current",s.target.getAttribute("data-index")))}),new MutationObserver(s=>{for(let n of s)if(n.type==="attributes"&&n.attributeName==="data-total"){const i=parseInt(e.getAttribute("data-total")),c=parseInt(e.getAttribute("data-current"));e.innerHTML="",e.appendChild(E(i,c))}}).observe(e,{attributes:!0})}})};document.addEventListener("DOMContentLoaded",fe);const p=class p{constructor(){if(p.instance)return p.instance;this.backdrop=document.querySelector("[data-modal]"),this.closeBtn=document.querySelector("[data-modal-close]"),this.isOpen=!1,this.isFavorite=!1,this.backdrop||console.error("Modal backdrop not found"),this.closeBtn||console.error("Modal close button not found"),this.ratingBackdrop=document.querySelector("[data-rating-modal]"),this.ratingCloseBtn=document.querySelector("[data-rating-close]"),this.ratingForm=document.querySelector(".rating-form"),this.bindEvents(),p.instance=this}bindEvents(){if(this.closeBtn&&this.closeBtn.addEventListener("click",()=>this.close()),this.backdrop&&this.backdrop.addEventListener("click",t=>{t.target===this.backdrop&&this.close()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&this.isOpen&&this.close()}),this.backdrop){const t=this.backdrop.querySelector(".modal-favorites-btn");t&&t.addEventListener("click",()=>this.toggleFavorite())}const e=this.backdrop.querySelector(".modal-rating-btn");e&&e.addEventListener("click",()=>this.openRatingModal()),this.ratingCloseBtn&&this.ratingCloseBtn.addEventListener("click",()=>this.closeRatingModal()),this.ratingBackdrop&&this.ratingBackdrop.addEventListener("click",t=>{t.target===this.ratingBackdrop&&this.closeRatingModal()}),this.ratingForm&&this.ratingForm.addEventListener("submit",t=>this.handleRatingSubmit(t))}async open(e){this.isOpen=!0,this.backdrop&&this.backdrop.classList.remove("is-hidden"),document.body.style.overflow="hidden",await this.updateContent(e)}close(){this.isOpen=!1,this.backdrop&&this.backdrop.classList.add("is-hidden"),this.ratingBackdrop&&(this.ratingBackdrop.classList.add("is-hidden"),this.ratingForm&&this.ratingForm.reset()),document.onkeydown=this.originalEscapeHandler,document.body.style.overflow=""}async updateContent(e){const{name:t,rating:a,target:r,bodyPart:s,equipment:n,popularity:i,burnedCalories:c,description:d,gifUrl:y,time:l=3}=e,f=this.backdrop.querySelector(".modal-title");f&&(f.textContent=t);const v=this.backdrop.querySelector(".modal-media-container");v&&y&&(v.innerHTML=`<img src="${y}" alt="${t}" />`);const B={Target:r,"Body Part":s,Equipment:n,Popular:i,"Burned Calories":`${c} / ${l} min`},m=this.backdrop.querySelector(".modal-parameters");m&&(m.innerHTML="",Object.entries(B).forEach(([te,oe])=>{const $=document.createElement("li");$.className="parameter-item",$.innerHTML=`
          <p class="modal-parameter-label">${te}</p>
          <p class="modal-parameter-value">${oe}</p>
        `,m.appendChild($)}));const w=this.backdrop.querySelector(".modal-description");w&&(w.textContent=d);const D=this.backdrop.querySelector(".rating-value");D&&(D.textContent=a)}toggleFavorite(){this.isFavorite=!this.isFavorite;const e=this.backdrop.querySelector(".modal-favorites-btn"),t=this.backdrop.querySelector(".rating-value");if(this.isFavorite){if(e.innerHTML=`
        Remove from favorites
        <svg class="modal-icon-heart">
          <use href="./img/sprite.svg#icon-delete"></use>
        </svg>
      `,e.classList.add("is-favorite"),t){const r=parseFloat(t.textContent);t.textContent=(r+.1).toFixed(1)}}else if(e.innerHTML=`
        Add to favorites
        <svg class="modal-icon-heart">
          <use href="./img/sprite.svg#icon-heart"></use>
        </svg>
      `,e.classList.remove("is-favorite"),t){const r=parseFloat(t.textContent);t.textContent=(r-.1).toFixed(1)}const a=e.querySelector(".modal-icon-heart");a&&(a.style.stroke=this.isFavorite?"#f4f4f4":"#242424"),e.style.transform="scale(0.95)",setTimeout(()=>{e.style.transform="scale(1)"},200)}openRatingModal(){this.ratingBackdrop&&this.backdrop&&(this.backdrop.classList.add("is-hidden"),this.ratingBackdrop.classList.remove("is-hidden"),this.originalEscapeHandler=document.onkeydown,document.onkeydown=e=>{e.key==="Escape"&&this.closeRatingModal()})}closeRatingModal(){this.ratingBackdrop&&this.backdrop&&(this.ratingBackdrop.classList.add("is-hidden"),this.backdrop.classList.remove("is-hidden"),this.ratingForm&&this.ratingForm.reset(),document.onkeydown=this.originalEscapeHandler)}async handleRatingSubmit(e){e.preventDefault();const t=this.ratingForm.querySelector("#rating-email").value.trim(),a=this.ratingForm.querySelector("#rating-comment").value.trim();if(!t||!a){console.log("Please fill in all fields");return}this.closeRatingModal()}};O(p,"instance",null);let q=p,_=null;document.addEventListener("DOMContentLoaded",()=>{if(!_)try{_=new q}catch(o){console.error("Error initializing modal:",o)}});let U=document.querySelector(".workouts-container-list");const g=document.querySelector(".m-workouts .workouts-pagination");let b={bodypart:"",muscles:"",equipment:"",keyword:""};async function S(o="",e="",t="",a="",r=1,s=10){b={bodypart:o,muscles:e,equipment:t,keyword:a};try{const n=de(o,e,t,a,r,s);console.log(`Request URL: ${n}`);const i=await fetch(n);if(!i.ok)throw new Error("Failed to fetch workouts");const c=await i.json();console.log("Received data:",c),U&&(U.innerHTML=ge(c.results));const d=document.querySelector(".workouts-container");d&&(d.style.display="flex"),c.totalPages&&c.totalPages>0&&pe(c.totalPages,r),document.querySelectorAll(".workout-start-btn").forEach(l=>{l.addEventListener("click",async f=>{f.preventDefault();const B=l.closest(".workouts-card").dataset.id;try{const m=await fetch(`${K()}/${B}`);if(!m.ok)throw new Error("Failed to fetch exercise details");const w=await m.json();window.modalWindow||(window.modalWindow=new q),window.modalWindow.open(w)}catch(m){console.error("Error opening modal:",m)}})})}catch(n){console.error("Error loading workouts:",n)}}function pe(o,e){if(console.log("Setting up pagination:",{totalPages:o,currentPage:e}),!g){console.error("Pagination container not found");return}if(g.innerHTML="",g.style.display="flex",g.setAttribute("data-total",o),g.setAttribute("data-current",e-1),o>1){const t=E(o,e-1);g.appendChild(t),g.querySelectorAll(".pagination-page").forEach(a=>{a.addEventListener("click",r=>{r.preventDefault();const s=parseInt(a.getAttribute("data-index"))+1;console.log("Pagination clicked, page:",s),S(b.bodypart,b.muscles,b.equipment,b.keyword,s,10)})})}}async function G(o="Muscles",e=1,t=12){t=window.innerWidth<=768?9:t;const{data:r}=await V.get(ie(),{params:{filter:o,page:e,limit:t}});return r}let C=document.querySelector(".categories-list");document.querySelector(".workouts-container");const u=document.querySelector(".m-categories .categories-pagination");async function T(o){const e=document.querySelector(".m-categories");e&&(e.style.display="flex");try{const t=await G(o);if(console.log("Categories data:",t),u&&(u.innerHTML="",t.totalPages>1)){u.style.display="flex",u.setAttribute("data-total",t.totalPages),u.setAttribute("data-current",0);const a=E(t.totalPages,0);u.appendChild(a),u.querySelectorAll(".pagination-page").forEach(r=>{r.addEventListener("click",he)})}C&&(C.innerHTML=Y(t.results),X())}catch(t){console.error("Error loading categories:",t)}}async function he(o){o.preventDefault();const e=Number(o.target.dataset.index),t=e+1,a=document.querySelector(".filter-button.active"),r=a?a.dataset.filter:"";try{const s=await G(r,t);C&&(C.innerHTML=Y(s.results),X()),u&&(u.setAttribute("data-current",e),u.querySelectorAll(".pagination-page").forEach(n=>{n.classList.remove("selected")}),o.target.classList.add("selected"))}catch(s){console.error("Error handling pagination:",s)}}function X(){document.querySelectorAll(".categories-item").forEach(e=>{e.addEventListener("click",ye)})}function ye(o){o.preventDefault();const e=document.querySelector(".m-categories"),t=document.querySelector(".m-workouts");if(e&&t){e.style.display="none",t.style.display="flex";const a=o.target.closest(".categories-item");if(!a)return;const r=encodeURIComponent(a.dataset.name),s=a.dataset.filter;switch(console.log(r),s){case"Muscles":S("",r,"","",1,10);break;case"Body parts":S(r,"","","",1,10);break;case"Equipment":S("","",r,"",1,10);break}}}document.addEventListener("DOMContentLoaded",()=>{T("Muscles")});const M=document.querySelector(".subscribe-form"),A=M.elements.email;let h={email:""};const I="subscribe-form-state",ve=()=>{localStorage.setItem(I,JSON.stringify(h))},be=()=>{const o=localStorage.getItem(I);o&&(h=JSON.parse(o),A.value=h.email||"")};be();M.addEventListener("input",o=>{const{name:e,value:t}=o.target;h[e]=t.trim(),ve()});M.addEventListener("submit",async o=>{if(o.preventDefault(),!A.validity.valid){alert("Please enter a valid email");return}h.email=A.value.trim();try{const e=await V.post(ue(),h);e.data.error?e.status===409?alert("This email is already subscribed."):alert("Subscription failed. Please try again later."):alert("Subscription successful!")}catch(e){e.response&&e.response.status===409?alert("This email is already subscribed."):alert("Subscription failed. Please try again later.")}M.reset(),localStorage.removeItem(I)});window.openMenu=function(){document.getElementById("backdrop").classList.add("is-open")};window.closeMenu=function(){document.getElementById("backdrop").classList.remove("is-open")};window.menuLayoutClickHandler=function(e){e.stopPropagation()};const P=document.querySelector(".selected-category"),ke=document.querySelector(".categories-list"),N=document.querySelectorAll(".filter-button"),k=document.querySelector("#search-form"),we=document.querySelector("#search-input");let F="Muscles";N.forEach(o=>{o.addEventListener("click",async e=>{let t=e.target.getAttribute("data-filter");t==="Body-parts"&&(t="Body parts"),F=t,await T(t),ee(),N.forEach(a=>a.classList.remove("active")),e.target.classList.add("active"),Z(),R(!1)})});k==null||k.addEventListener("submit",async o=>{o.preventDefault(),we.value.trim(),P.textContent.trim().split(" / ")[1]});function R(o){o?k.style.display="block":k.style.display="none"}function j(o){const e=o.currentTarget.dataset.name;Z(e),P.textContent=` / ${e}`,ke.style.display="none",R(!0),Le()}function Z(o=""){P.textContent=o?` / ${o}`:""}function ee(){document.querySelectorAll(".categories-item").forEach(e=>{e.removeEventListener("click",j),e.addEventListener("click",j)})}document.addEventListener("DOMContentLoaded",async()=>{await T(F),ee(),R(!1)});async function Le(o,e=""){}T(F);const Se=()=>{const o=document.querySelector(".home-page"),e=document.querySelector(".favorites-page"),t=document.querySelector(".router");switch(window.location.pathname){case"/":t.children[0].classList.add("active"),t.children[1].classList.remove("active"),o.classList.remove("hidden"),e.classList.add("hidden");break;case"/favorites":t.children[0].classList.remove("active"),t.children[1].classList.add("active"),o.classList.add("hidden"),e.classList.remove("hidden");break}},Ee=new MutationObserver(()=>{Se()});Ee.observe(document,{childList:!0,subtree:!0});const L=document.querySelector(".router");document.querySelector("body");let W=0;window.addEventListener("scroll",()=>{const o=document.documentElement.scrollTop;document.body.hasAttribute("data-user-scrolling")&&(L.classList.add("sticky"),o>0?o>W?L.classList.add("hidden"):L.classList.remove("hidden"):L.classList.remove("sticky"),W=o)});document.addEventListener("wheel",()=>{document.body.setAttribute("data-user-scrolling","true"),setTimeout(()=>{document.body.removeAttribute("data-user-scrolling")},100)});const z=localStorage.getItem("quote"),qe=localStorage.getItem("author");localStorage.getItem("quoteDate");const Q=document.querySelector(".favorites-card");z!==null&&(Q.children[1].innerHTML=z,Q.children[2].innerHTML=qe);window.location.pathname.includes("task-management")&&J(()=>Promise.resolve({}),__vite__mapDeps([0]));async function Ce(){if(!window.taskManager)try{const e=(await J(()=>import("./task-manager-M1fNHe4L.js"),[])).default;window.taskManager=new e,await new Promise(t=>setTimeout(t,200))}catch(o){return console.error("Error initializing TaskManager:",o),null}return window.taskManager}document.addEventListener("DOMContentLoaded",async()=>{try{if(window.location.pathname.includes("task-management")){await Ce();const o=document.getElementById("addTaskBtn");o&&o.addEventListener("click",async e=>{e.preventDefault(),window.taskManager?window.taskManager.showModal():console.error("TaskManager not initialized")})}}catch(o){console.error("Error initializing task manager:",o)}});
//# sourceMappingURL=index-CqmKS-k9.js.map
