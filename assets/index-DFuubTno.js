const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/favorites-C9UOmxB_.js","assets/vendor-CNNbG8jS.js","assets/_task-manager-Di9FvUSR.css"])))=>i.map(i=>d[i]);
var Q=Object.defineProperty;var Y=(t,e,o)=>e in t?Q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var D=(t,e,o)=>Y(t,typeof e!="symbol"?e+"":e,o);import{e as Z,c as G,a as X,M as ee,g as O,f as te,s as oe,b as re}from"./favorites-C9UOmxB_.js";/* empty css               */import{a as U}from"./vendor-CNNbG8jS.js";const ae="modulepreload",ne=function(t){return"/goit-team4-YourEnergy/"+t},P={},x=function(e,o,r){let n=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(o.map(i=>{if(i=ne(i),i in P)return;P[i]=!0;const u=i.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${f}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":ae,u||(l.as="script"),l.crossOrigin="",l.href=i,c&&l.setAttribute("nonce",c),document.head.appendChild(l),u)return new Promise((I,w)=>{l.addEventListener("load",I),l.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${i}`)))})}))}function s(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return n.then(a=>{for(const c of a||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};async function se(){const t=new Date().toISOString().split("T")[0],e=localStorage.getItem("quote"),o=localStorage.getItem("author"),r=localStorage.getItem("quoteDate");if(e&&o&&r===t){document.querySelector(".sidebar-quote").textContent=`${e}`,document.querySelector(".sidebar-quote-author").textContent=`${o}`;return}try{const{quoteURL:n}=await x(async()=>{const{quoteURL:u}=await import("./favorites-C9UOmxB_.js").then(f=>f.d);return{quoteURL:u}},__vite__mapDeps([0,1])),s=await fetch(n());if(!s.ok)throw new Error("Failed to fetch quote");const a=await s.json(),c=a.quote,i=a.author;document.querySelector(".sidebar-quote").textContent=`${c}`,document.querySelector(".sidebar-quote-author").textContent=`${i}`,localStorage.setItem("quote",c),localStorage.setItem("author",i),localStorage.setItem("quoteDate",t)}catch(n){console.error("Error fetching quote:",n)}}se();function N(t){return t.sort((e,o)=>e.name.localeCompare(o.name)).map(({filter:e,name:o,imgURL:r})=>`<li class='categories-item' data-name='${o}' data-filter='${e}' tabindex="0"
             style="background-image:url('${r}');background-size:cover; background-repeat:no-repeat; background-position:center">
             <h3 class="categories-item-title">${o}</h3>
             <p class="categories-item-text">${e}</p>
          </li>`).join("")}let B=document.querySelector(".workouts-container-list");const m=document.querySelector(".m-workouts .workouts-pagination");let p={bodypart:"",muscles:"",equipment:"",keyword:""};async function g(t="",e="",o="",r="",n=1,s=10){p={bodypart:t,muscles:e,equipment:o,keyword:r};try{const a=Z(t,e,o,r,n,s);console.log(`Request URL: ${a}`);const c=await fetch(a);if(!c.ok)throw new Error("Failed to fetch workouts");const i=await c.json();console.log("Received data:",i),B&&(B.innerHTML=G(i.results));const u=document.querySelector(".workouts-container"),f=document.querySelector(".workouts-container-list"),l=document.querySelector(".workouts-error");u&&(u.style.display="flex",f.style.display="flex",l.style.display="none"),i.results.length===0?(f.style.display="none",l.style.display="block",m.style.display="none"):i.results.length>0&&i.totalPages&&i.totalPages>0&&(m.style.display="flex",ie(i.totalPages,n)),document.querySelectorAll(".workout-start-btn").forEach(w=>{w.addEventListener("click",async V=>{V.preventDefault();const J=w.closest(".workouts-card").dataset.id;try{const k=await fetch(`${X()}/${J}`);if(!k.ok)throw new Error("Failed to fetch exercise details");const K=await k.json();window.modalWindow||(window.modalWindow=new ee),window.modalWindow.open(K)}catch(k){console.error("Error opening modal:",k)}})})}catch(a){console.error("Error loading workouts:",a)}}function ie(t,e){if(console.log("Setting up pagination:",{totalPages:t,currentPage:e}),!m){console.error("Pagination container not found");return}if(m.innerHTML="",m.style.display="flex",m.setAttribute("data-total",t),m.setAttribute("data-current",e-1),t>1){const o=O(t,e-1);m.appendChild(o),m.querySelectorAll(".pagination-page").forEach(r=>{r.addEventListener("click",n=>{n.preventDefault();const s=parseInt(r.getAttribute("data-index"))+1;console.log("Pagination clicked, page:",s),g(p.bodypart,p.muscles,p.equipment,p.keyword,s,10)})})}}async function H(t="Muscles",e=1,o=12){o=window.innerWidth<=768?9:o;const{data:n}=await U.get(te(),{params:{filter:t,page:e,limit:o}});return n}const ce=document.querySelector(".filters-title"),le=document.querySelector(".categories-list"),F=document.querySelectorAll(".filter-button"),E=document.querySelector("#search-form"),$=document.querySelector("#search-input");let W="Muscles";F.forEach(t=>{t.addEventListener("click",async e=>{let o=e.target.getAttribute("data-filter").replace("-"," ");W=o,await T(o),F.forEach(s=>s.classList.remove("active")),e.target.classList.add("active"),R(),L(!1);const r=document.querySelector(".m-workouts");r.style.display="none";const n=document.querySelector(".m-categories");n.style.display="flex"})});E==null||E.addEventListener("submit",async t=>{t.preventDefault();const e=encodeURIComponent($.value.trim());switch(j){case"Muscles":g("",S,"",e,1,10);break;case"Body parts":g(S,"","",e,1,10);break;case"Equipment":g("","",S,e,1,10);break}$.value=""});function L(t){E.style.display=t?"block":"none"}function de(t){const e=t.currentTarget.dataset.name;R(e),le.style.display="none",L(!0),me()}function R(t=!1){ce.innerHTML=t?'Exercises / <span class="selected-category">'+t+"</span>":"Exercises"}function ue(){document.querySelectorAll(".categories-item").forEach(e=>{e.addEventListener("click",de)})}document.addEventListener("DOMContentLoaded",async()=>{await T(W),ue(),L(!1)});async function me(t,e=""){}let q=document.querySelector(".categories-list");document.querySelector(".workouts-container");const d=document.querySelector(".m-categories .categories-pagination");let S="",j="Muscles";async function T(t){const e=document.querySelector(".m-categories");e&&(e.style.display="flex");try{const o=await H(t);if(console.log("Categories data:",o),d&&(d.innerHTML="",o.totalPages>1)){d.style.display="flex",d.setAttribute("data-total",o.totalPages),d.setAttribute("data-current",0);const r=O(o.totalPages,0);d.appendChild(r),d.querySelectorAll(".pagination-page").forEach(n=>{n.addEventListener("click",ge)})}q&&(q.innerHTML=N(o.results),z())}catch(o){console.error("Error loading categories:",o)}}async function ge(t){t.preventDefault();const e=Number(t.target.dataset.index),o=e+1,r=document.querySelector(".filter-button.active"),n=r?r.dataset.filter.replace("-"," "):"";try{const s=await H(n,o);q&&(q.innerHTML=N(s.results),z()),d&&(d.setAttribute("data-current",e),d.querySelectorAll(".pagination-page").forEach(a=>{a.classList.remove("selected")}),t.target.classList.add("selected"))}catch(s){console.error("Error handling pagination:",s)}}function z(){document.querySelectorAll(".categories-item").forEach(e=>{e.addEventListener("click",fe)})}function fe(t){t.preventDefault();const e=document.querySelector(".m-categories"),o=document.querySelector(".m-workouts");if(e&&o){e.style.display="none",o.style.display="flex";const r=t.target.closest(".categories-item");if(!r)return;L(!0);const n=encodeURIComponent(r.dataset.name);S=n,R(r.dataset.name);const s=r.dataset.filter;j=s,console.log(n);let a=window.innerWidth<=768?8:10;switch(s){case"Muscles":g("",n,"","",1,a);break;case"Body parts":g(n,"","","",1,a);break;case"Equipment":g("","",n,"",1,a);break}}}document.addEventListener("DOMContentLoaded",()=>{T("Muscles")});const b=document.querySelector(".subscribe-form"),C=b.elements.email;let h={email:""};const A="subscribe-form-state",ye=()=>{localStorage.setItem(A,JSON.stringify(h))},he=()=>{const t=localStorage.getItem(A);t&&(h=JSON.parse(t),C.value=h.email||"")};he();b.addEventListener("input",t=>{const{name:e,value:o}=t.target;h[e]=o.trim(),ye()});b.addEventListener("submit",async t=>{if(t.preventDefault(),!C.validity.valid){alert("Please enter a valid email");return}h.email=C.value.trim();try{const e=await U.post(oe(),h);e.data.error?e.status===409?alert("This email is already subscribed."):alert("Subscription failed. Please try again later."):alert("Subscription successful!")}catch(e){e.response&&e.response.status===409?alert("This email is already subscribed."):alert("Subscription failed. Please try again later.")}b.reset(),localStorage.removeItem(A)});const v=document.querySelector(".router");document.querySelector("body");let _=0;window.addEventListener("scroll",()=>{const t=document.documentElement.scrollTop;document.body.hasAttribute("data-user-scrolling")&&(v.classList.add("sticky"),t>0?t>_?v.classList.add("hidden"):v.classList.remove("hidden"):v.classList.remove("sticky"),_=t)});document.addEventListener("wheel",()=>{document.body.setAttribute("data-user-scrolling","true"),setTimeout(()=>{document.body.removeAttribute("data-user-scrolling")},100)});const y=class y{constructor(){if(y.instance)return y.instance;this.ratingBackdrop=document.querySelector("[data-rating-modal]"),this.ratingCloseBtn=document.querySelector("[data-rating-close]"),this.ratingForm=document.querySelector(".rating-form"),this.backdrop=document.querySelector("[data-modal]"),this.ratingCounter=document.querySelector(".rating-form-value"),this.currentExerciseId=null,this.bindEvents(),y.instance=this}bindEvents(){this.ratingCloseBtn&&this.ratingCloseBtn.addEventListener("click",()=>this.closeRatingModal()),this.ratingBackdrop&&this.ratingBackdrop.addEventListener("click",o=>{o.target===this.ratingBackdrop&&this.closeRatingModal()}),document.querySelectorAll(".rating-form-radio").forEach(o=>{o.addEventListener("mouseover",()=>{this.updateRatingDisplay(o.value)}),o.addEventListener("mouseout",()=>{const r=document.querySelector(".rating-form-radio:checked");this.updateRatingDisplay(r?r.value:"0.0")}),o.addEventListener("change",()=>{this.updateRatingDisplay(o.value)})}),this.ratingForm&&this.ratingForm.addEventListener("submit",o=>this.handleRatingSubmit(o))}updateRatingDisplay(e){this.ratingCounter&&(this.ratingCounter.textContent=parseFloat(e).toFixed(1))}openRatingModal(e){this.ratingBackdrop&&this.backdrop&&(this.currentExerciseId=e,this.backdrop.classList.add("is-hidden"),this.ratingBackdrop.classList.remove("is-hidden"),this.updateRatingDisplay("0.0"),document.querySelectorAll(".rating-form-radio").forEach(r=>r.checked=!1))}closeRatingModal(){this.ratingBackdrop&&this.backdrop&&(this.ratingBackdrop.classList.add("is-hidden"),this.backdrop.classList.remove("is-hidden"),this.ratingForm&&(this.ratingForm.reset(),this.updateRatingDisplay("0.0")))}async handleRatingSubmit(e){e.preventDefault();const o=this.ratingForm.querySelector("#rating-email").value.trim(),r=this.ratingForm.querySelector("#rating-comment").value.trim(),n=document.querySelector(".rating-form-radio:checked");if(!o||!r||!n){this.showNotification("Please fill in all fields","error");return}if(!/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(o)){this.showNotification("Please enter a valid email","error");return}try{const a=await re(this.currentExerciseId,{rate:parseFloat(n.value),email:o,review:r});if(a.ok)this.closeRatingModal(),this.showNotification("Rating added successfully","success");else{const c=await a.json();throw new Error(c.message||"Failed to add rating")}}catch(a){this.showNotification(a.message,"error")}}showNotification(e,o){console.log(`${o}: ${e}`)}};D(y,"instance",null);let M=y;document.addEventListener("DOMContentLoaded",()=>{window.modalWindowRating=new M});window.location.pathname.includes("task-management")&&x(()=>Promise.resolve({}),__vite__mapDeps([2]));async function pe(){if(!window.taskManager)try{const e=(await x(()=>import("./_task-manager-M1fNHe4L.js"),[])).default;window.taskManager=new e,await new Promise(o=>setTimeout(o,200))}catch(t){return console.error("Error initializing TaskManager:",t),null}return window.taskManager}document.addEventListener("DOMContentLoaded",async()=>{try{if(window.location.pathname.includes("task-management")){await pe();const t=document.getElementById("addTaskBtn");t&&t.addEventListener("click",async e=>{e.preventDefault(),window.taskManager?window.taskManager.showModal():console.error("TaskManager not initialized")})}}catch(t){console.error("Error initializing task manager:",t)}});
//# sourceMappingURL=index-DFuubTno.js.map
