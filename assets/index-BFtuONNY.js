const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/_task-manager-Di9FvUSR.css"])))=>i.map(i=>d[i]);
import{e as z,c as J,a as K,M as V,g as _,f as Y,s as G}from"./menu-DgQbA_Y5.js";/* empty css               */import{a as $}from"./vendor-CNNbG8jS.js";const Q="modulepreload",X=function(e){return"/goit-team4-YourEnergy/"+e},x={},R=function(t,r,o){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),c=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));a=Promise.allSettled(r.map(s=>{if(s=X(s),s in x)return;x[s]=!0;const m=s.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${p}`))return;const l=document.createElement("link");if(l.rel=m?"stylesheet":Q,m||(l.as="script"),l.crossOrigin="",l.href=s,c&&l.setAttribute("nonce",c),document.head.appendChild(l),m)return new Promise((C,w)=>{l.addEventListener("load",C),l.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${s}`)))})}))}function i(n){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=n,window.dispatchEvent(c),!c.defaultPrevented)throw n}return a.then(n=>{for(const c of n||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};function B(e){return e.sort((t,r)=>t.name.localeCompare(r.name)).map(({filter:t,name:r,imgURL:o})=>`<li class='categories-item' data-name='${r}' data-filter='${t}' tabindex="0"
             style="background-image:url('${o}');background-size:cover; background-repeat:no-repeat; background-position:center">
             <h3 class="categories-item-title">${r}</h3>
             <p class="categories-item-text">${t}</p>
          </li>`).join("")}let A=document.querySelector(".workouts-container-list");const u=document.querySelector(".m-workouts .workouts-pagination");let y={bodypart:"",muscles:"",equipment:"",keyword:""};async function f(e="",t="",r="",o="",a=1,i=10){y={bodypart:e,muscles:t,equipment:r,keyword:o};try{const n=z(e,t,r,o,a,i);console.log(`Request URL: ${n}`);const c=await fetch(n);if(!c.ok)throw new Error("Failed to fetch workouts");const s=await c.json();console.log("Received data:",s),A&&(A.innerHTML=J(s.results));const m=document.querySelector(".workouts-container"),p=document.querySelector(".workouts-container-list"),l=document.querySelector(".workouts-error");m&&(m.style.display="flex",p.style.display="flex",l.style.display="none"),s.results.length===0?(p.style.display="none",l.style.display="block",u.style.display="none"):s.results.length>0&&s.totalPages&&s.totalPages>0&&(u.style.display="flex",Z(s.totalPages,a)),document.querySelectorAll(".workout-start-btn").forEach(w=>{w.addEventListener("click",async F=>{F.preventDefault();const N=w.closest(".workouts-card").dataset.id;try{const k=await fetch(`${K()}/${N}`);if(!k.ok)throw new Error("Failed to fetch exercise details");const j=await k.json();window.modalWindow||(window.modalWindow=new V),window.modalWindow.open(j)}catch(k){console.error("Error opening modal:",k)}})})}catch(n){console.error("Error loading workouts:",n)}}function Z(e,t){if(console.log("Setting up pagination:",{totalPages:e,currentPage:t}),!u){console.error("Pagination container not found");return}if(u.innerHTML="",u.style.display="flex",u.setAttribute("data-total",e),u.setAttribute("data-current",t-1),e>1){const r=_(e,t-1);u.appendChild(r),u.querySelectorAll(".pagination-page").forEach(o=>{o.addEventListener("click",a=>{a.preventDefault();const i=parseInt(o.getAttribute("data-index"))+1;console.log("Pagination clicked, page:",i),f(y.bodypart,y.muscles,y.equipment,y.keyword,i,10)})})}}async function O(e="Muscles",t=1,r=12){r=window.innerWidth<=768?9:r;const{data:a}=await $.get(Y(),{params:{filter:e,page:t,limit:r}});return a}const ee=document.querySelector(".filters-title"),te=document.querySelector(".categories-list"),P=document.querySelectorAll(".filter-button"),E=document.querySelector("#search-form"),I=document.querySelector("#search-input");let H="Muscles";P.forEach(e=>{e.addEventListener("click",async t=>{let r=t.target.getAttribute("data-filter").replace("-"," ");H=r,await M(r),P.forEach(i=>i.classList.remove("active")),t.target.classList.add("active"),q(),b(!1);const o=document.querySelector(".m-workouts");o.style.display="none";const a=document.querySelector(".m-categories");a.style.display="flex"})});E==null||E.addEventListener("submit",async e=>{e.preventDefault();const t=I.value.trim();try{f("",U,"",t,1,10)}catch(r){console.error("Error loading exercises:",r)}I.value=""});function b(e){E.style.display=e?"block":"none"}function re(e){const t=e.currentTarget.dataset.name;q(t),te.style.display="none",b(!0),ae()}function q(e=!1){ee.innerHTML=e?'Exercises / <span class="selected-category">'+e+"</span>":"Exercises"}function oe(){document.querySelectorAll(".categories-item").forEach(t=>{t.addEventListener("click",re)})}document.addEventListener("DOMContentLoaded",async()=>{await M(H),oe(),b(!1)});async function ae(e,t=""){}let v=document.querySelector(".categories-list");document.querySelector(".workouts-container");const d=document.querySelector(".m-categories .categories-pagination");let U="";async function M(e){const t=document.querySelector(".m-categories");t&&(t.style.display="flex");try{const r=await O(e);if(console.log("Categories data:",r),d&&(d.innerHTML="",r.totalPages>1)){d.style.display="flex",d.setAttribute("data-total",r.totalPages),d.setAttribute("data-current",0);const o=_(r.totalPages,0);d.appendChild(o),d.querySelectorAll(".pagination-page").forEach(a=>{a.addEventListener("click",ne)})}v&&(v.innerHTML=B(r.results),W())}catch(r){console.error("Error loading categories:",r)}}async function ne(e){e.preventDefault();const t=Number(e.target.dataset.index),r=t+1,o=document.querySelector(".filter-button.active"),a=o?o.dataset.filter.replace("-"," "):"";try{const i=await O(a,r);v&&(v.innerHTML=B(i.results),W()),d&&(d.setAttribute("data-current",t),d.querySelectorAll(".pagination-page").forEach(n=>{n.classList.remove("selected")}),e.target.classList.add("selected"))}catch(i){console.error("Error handling pagination:",i)}}function W(){document.querySelectorAll(".categories-item").forEach(t=>{t.addEventListener("click",se)})}function se(e){e.preventDefault();const t=document.querySelector(".m-categories"),r=document.querySelector(".m-workouts");if(t&&r){t.style.display="none",r.style.display="flex";const o=e.target.closest(".categories-item");if(!o)return;b(!0);const a=encodeURIComponent(o.dataset.name);U=a,q(o.dataset.name);const i=o.dataset.filter;switch(console.log(a),i){case"Muscles":f("",a,"","",1,10);break;case"Body parts":f(a,"","","",1,10);break;case"Equipment":f("","",a,"",1,10);break}}}document.addEventListener("DOMContentLoaded",()=>{M("Muscles")});const S=document.querySelector(".subscribe-form"),L=S.elements.email;let g={email:""};const T="subscribe-form-state",ie=()=>{localStorage.setItem(T,JSON.stringify(g))},ce=()=>{const e=localStorage.getItem(T);e&&(g=JSON.parse(e),L.value=g.email||"")};ce();S.addEventListener("input",e=>{const{name:t,value:r}=e.target;g[t]=r.trim(),ie()});S.addEventListener("submit",async e=>{if(e.preventDefault(),!L.validity.valid){alert("Please enter a valid email");return}g.email=L.value.trim();try{const t=await $.post(G(),g);t.data.error?t.status===409?alert("This email is already subscribed."):alert("Subscription failed. Please try again later."):alert("Subscription successful!")}catch(t){t.response&&t.response.status===409?alert("This email is already subscribed."):alert("Subscription failed. Please try again later.")}S.reset(),localStorage.removeItem(T)});const h=document.querySelector(".router");document.querySelector("body");let D=0;window.addEventListener("scroll",()=>{const e=document.documentElement.scrollTop;document.body.hasAttribute("data-user-scrolling")&&(h.classList.add("sticky"),e>0?e>D?h.classList.add("hidden"):h.classList.remove("hidden"):h.classList.remove("sticky"),D=e)});document.addEventListener("wheel",()=>{document.body.setAttribute("data-user-scrolling","true"),setTimeout(()=>{document.body.removeAttribute("data-user-scrolling")},100)});window.location.pathname.includes("task-management")&&R(()=>Promise.resolve({}),__vite__mapDeps([0]));async function le(){if(!window.taskManager)try{const t=(await R(()=>import("./_task-manager-M1fNHe4L.js"),[])).default;window.taskManager=new t,await new Promise(r=>setTimeout(r,200))}catch(e){return console.error("Error initializing TaskManager:",e),null}return window.taskManager}document.addEventListener("DOMContentLoaded",async()=>{try{if(window.location.pathname.includes("task-management")){await le();const e=document.getElementById("addTaskBtn");e&&e.addEventListener("click",async t=>{t.preventDefault(),window.taskManager?window.taskManager.showModal():console.error("TaskManager not initialized")})}}catch(e){console.error("Error initializing task manager:",e)}});
//# sourceMappingURL=index-BFtuONNY.js.map
