const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/task-manager-Di9FvUSR.css"])))=>i.map(i=>d[i]);
var J=Object.defineProperty;var Q=(r,e,t)=>e in r?J(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var F=(r,e,t)=>Q(r,typeof e!="symbol"?e+"":e,t);/* empty css               */import{a as D}from"./vendor-CNNbG8jS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();const Y="modulepreload",G=function(r){return"/goit-team4-YourEnergy/"+r},P={},U=function(e,t,a){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),i=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));o=Promise.allSettled(t.map(c=>{if(c=G(c),c in P)return;P[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const l=document.createElement("link");if(l.rel=d?"stylesheet":Y,d||(l.as="script"),l.crossOrigin="",l.href=c,i&&l.setAttribute("nonce",i),document.head.appendChild(l),d)return new Promise((f,m)=>{l.addEventListener("load",f),l.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(n){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=n,window.dispatchEvent(i),!i.defaultPrevented)throw n}return o.then(n=>{for(const i of n||[])i.status==="rejected"&&s(i.reason);return e().catch(s)})},q=()=>"https://your-energy.b.goit.study/api",_=()=>q()+"/exercises",X=()=>q()+"/filters",Z=()=>q()+"/quote",ee=()=>q()+"/subscription",te=(r,e,t,a,o,s)=>`${_()}?bodypart=${r}&muscles=${e}&equipment=${t}&${a}=2&page=${o}&limit=${s}`,re=()=>ee();async function oe(){const r=new Date().toISOString().split("T")[0],e=localStorage.getItem("quote"),t=localStorage.getItem("author"),a=localStorage.getItem("quoteDate");if(e&&t&&a===r){document.querySelector(".sidebar-quote").textContent=`${e}`,document.querySelector(".sidebar-quote-author").textContent=`${t}`;return}try{const o=await fetch(Z());if(!o.ok)throw new Error("Failed to fetch quote");const s=await o.json(),n=s.quote,i=s.author;document.querySelector(".sidebar-quote").textContent=`${n}`,document.querySelector(".sidebar-quote-author").textContent=`${i}`,localStorage.setItem("quote",n),localStorage.setItem("author",i),localStorage.setItem("quoteDate",r)}catch(o){console.error("Error fetching quote:",o)}}oe();function N(r){return r.sort((e,t)=>e.name.localeCompare(t.name)).map(({filter:e,name:t,imgURL:a})=>`<li class='categories-item' data-name='${t}' data-filter='${e}' tabindex="0" 
             style="background-image:url('${a}');background-size:cover; background-repeat:no-repeat; background-position:center">         
             <h3 class="categories-item-title">${t}</h3>
             <p class="categories-item-text">${e}</p>   
          </li>`).join("")}function ae(r){return r.sort((e,t)=>e.name.localeCompare(t.name)).map(({_id:e,name:t,burnedCalories:a,bodyPart:o,target:s,gifUrl:n})=>`
        <li class='workouts-card' data-name='${t}' data-id='${e}'>
          <div class="card-header">
            <div class="card-header_left-side">
              <span class="label">workout</span>
              <div class="rating-container">
                <span class="rating">5.0</span>
                <svg class="star" width="16" height="16">
                  <use href="./img/icons.svg#icon-Star"></use>
                </svg>
              </div>
              <div class="trash-container hide">
                <svg width="16" height="16">
                  <use href="./img/icons.svg#icon-trash"></use>
                </svg>
              </div>

             </div>
            <button type="button" class="workout-start-btn">
              Start
              <svg width="16" height="16">
                <use href="./img/icons.svg#icon-arrow"></use>
              </svg>
            </button>
          </div>
          <div class="card-content">
            <img class="card-icon" src="./img/running.svg" alt="Card icon">
            <h3 class="title text-overflow">${t}</h3>
          </div>
          <div class="card-footer">
            <ul class="card-footer_items">
              <li class="card-footer_item">Calories: <span class="strong text-overflow item-one">${a}</span></li>
              <li class="card-footer_item">Body Part: <span class="strong text-overflow item-two">${o}</span></li>
              <li class="card-footer_item">Target: <span class="strong text-overflow item-three">${s}</span></li>
            </ul>
          </div>
        </li>`).join("")}const se=document.querySelectorAll(".pagination"),L=(r,e)=>{let t=new DocumentFragment;for(let a=0;a<r;a++){let o=document.createElement("p");o.setAttribute("data-index",a),o.innerHTML=a+1,o.classList.add("pagination-page"),a===e&&o.classList.add("selected"),t.appendChild(o)}return t};se.forEach(r=>{if(r.hasAttribute("data-total")){r.innerHTML="";const e=parseInt(r.getAttribute("data-total")),t=parseInt(r.getAttribute("data-current"));r.appendChild(L(e,t)),r.addEventListener("click",async o=>{o.target.classList.contains("pagination-page")&&(r.querySelectorAll(".pagination-page").forEach(n=>{n.classList.remove("selected")}),o.target.classList.add("selected"),o.target.parentElement.setAttribute("data-current",o.target.getAttribute("data-index")))}),new MutationObserver(o=>{for(let s of o)if(s.type==="attributes"&&s.attributeName==="total-pages"){const n=r.getAttribute("total-pages");r.innerHTML="",r.appendChild(L(n,parseInt(r.getAttribute("current-page"))))}}).observe(r,{attributes:!0})}});const p=class p{constructor(){if(p.instance)return p.instance;this.backdrop=document.querySelector("[data-modal]"),this.closeBtn=document.querySelector("[data-modal-close]"),this.isOpen=!1,this.isFavorite=!1,this.backdrop||console.error("Modal backdrop not found"),this.closeBtn||console.error("Modal close button not found"),this.ratingBackdrop=document.querySelector("[data-rating-modal]"),this.ratingCloseBtn=document.querySelector("[data-rating-close]"),this.ratingForm=document.querySelector(".rating-form"),this.bindEvents(),p.instance=this}bindEvents(){if(this.closeBtn&&this.closeBtn.addEventListener("click",()=>this.close()),this.backdrop&&this.backdrop.addEventListener("click",t=>{t.target===this.backdrop&&this.close()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&this.isOpen&&this.close()}),this.backdrop){const t=this.backdrop.querySelector(".modal-favorites-btn");t&&t.addEventListener("click",()=>this.toggleFavorite())}const e=this.backdrop.querySelector(".modal-rating-btn");e&&e.addEventListener("click",()=>this.openRatingModal()),this.ratingCloseBtn&&this.ratingCloseBtn.addEventListener("click",()=>this.closeRatingModal()),this.ratingBackdrop&&this.ratingBackdrop.addEventListener("click",t=>{t.target===this.ratingBackdrop&&this.closeRatingModal()}),this.ratingForm&&this.ratingForm.addEventListener("submit",t=>this.handleRatingSubmit(t))}async open(e){this.isOpen=!0,this.backdrop&&this.backdrop.classList.remove("is-hidden"),document.body.style.overflow="hidden",await this.updateContent(e)}close(){this.isOpen=!1,this.backdrop&&this.backdrop.classList.add("is-hidden"),this.ratingBackdrop&&(this.ratingBackdrop.classList.add("is-hidden"),this.ratingForm&&this.ratingForm.reset()),document.onkeydown=this.originalEscapeHandler,document.body.style.overflow=""}async updateContent(e){const{name:t,rating:a,target:o,bodyPart:s,equipment:n,popularity:i,burnedCalories:c,description:d,gifUrl:u,time:l=3}=e,f=this.backdrop.querySelector(".modal-title");f&&(f.textContent=t);const m=this.backdrop.querySelector(".modal-media-container");m&&u&&(m.innerHTML=`<img src="${u}" alt="${t}" />`);const g={Target:o,"Body Part":s,Equipment:n,Popular:i,"Burned Calories":`${c} / ${l} min`},y=this.backdrop.querySelector(".modal-parameters");y&&(y.innerHTML="",Object.entries(g).forEach(([K,V])=>{const C=document.createElement("li");C.className="parameter-item",C.innerHTML=`
          <p class="modal-parameter-label">${K}</p>
          <p class="modal-parameter-value">${V}</p>
        `,y.appendChild(C)}));const $=this.backdrop.querySelector(".modal-description");$&&($.textContent=d);const I=this.backdrop.querySelector(".rating-value");I&&(I.textContent=a)}toggleFavorite(){this.isFavorite=!this.isFavorite;const e=this.backdrop.querySelector(".modal-favorites-btn"),t=this.backdrop.querySelector(".rating-value");if(this.isFavorite){if(e.innerHTML=`
        Remove from favorites
        <svg class="modal-icon-heart">
          <use href="./img/sprite.svg#icon-delete"></use>
        </svg>
      `,e.classList.add("is-favorite"),t){const o=parseFloat(t.textContent);t.textContent=(o+.1).toFixed(1)}}else if(e.innerHTML=`
        Add to favorites
        <svg class="modal-icon-heart">
          <use href="./img/sprite.svg#icon-heart"></use>
        </svg>
      `,e.classList.remove("is-favorite"),t){const o=parseFloat(t.textContent);t.textContent=(o-.1).toFixed(1)}const a=e.querySelector(".modal-icon-heart");a&&(a.style.stroke=this.isFavorite?"#f4f4f4":"#242424"),e.style.transform="scale(0.95)",setTimeout(()=>{e.style.transform="scale(1)"},200)}openRatingModal(){this.ratingBackdrop&&this.backdrop&&(this.backdrop.classList.add("is-hidden"),this.ratingBackdrop.classList.remove("is-hidden"),this.originalEscapeHandler=document.onkeydown,document.onkeydown=e=>{e.key==="Escape"&&this.closeRatingModal()})}closeRatingModal(){this.ratingBackdrop&&this.backdrop&&(this.ratingBackdrop.classList.add("is-hidden"),this.backdrop.classList.remove("is-hidden"),this.ratingForm&&this.ratingForm.reset(),document.onkeydown=this.originalEscapeHandler)}async handleRatingSubmit(e){e.preventDefault();const t=this.ratingForm.querySelector("#rating-email").value.trim(),a=this.ratingForm.querySelector("#rating-comment").value.trim();if(!t||!a){console.log("Please fill in all fields");return}this.closeRatingModal()}};F(p,"instance",null);let E=p,A=null;document.addEventListener("DOMContentLoaded",()=>{if(!A)try{A=new E}catch(r){console.error("Error initializing modal:",r)}});let ne=document.querySelector(".workouts-container-list");const v=document.querySelector(".workouts-pagination");let b={bodypart:"",muscles:"",equipment:"",keyword:""};async function w(r="",e="",t="",a="",o=1,s=8){b={bodypart:r,muscles:e,equipment:t,keyword:a};try{const n=te(r,e,t,a,o,s=8);console.log(`Request URL: ${n}`);const i=await fetch(n);if(!i.ok)throw new Error("Failed to fetch workouts");const c=await i.json();ne.innerHTML=ae(c.results),ie(c.totalPages,o);const d=document.querySelectorAll(".workout-start-btn");console.log("Found start buttons:",d.length),d.forEach(u=>{u.addEventListener("click",async l=>{l.preventDefault();const m=u.closest(".workouts-card").dataset.id;console.log("Button clicked, exercise ID:",m);try{const g=await fetch(`${_()}/${m}`);if(!g.ok)throw new Error("Failed to fetch exercise details");const y=await g.json();window.modalWindow||(window.modalWindow=new E),window.modalWindow.open(y)}catch(g){console.error("Error opening modal:",g)}})})}catch(n){console.error("Error loading workouts:",n)}}function ie(r,e){v.innerHTML="",v.setAttribute("data-total",r),v.setAttribute("data-current",e-1),v.appendChild(L(r,e-1)),v.querySelectorAll(".pagination-page").forEach(t=>{t.addEventListener("click",a=>{const o=parseInt(t.getAttribute("data-index"))+1;w(b.bodypart,b.muscles,b.equipment,b.keyword,o)})})}async function j(r="Muscles",e=1,t=12){t=window.innerWidth<=768?9:t;const{data:o}=await D.get(X(),{params:{filter:r,page:e,limit:t}});return o}let x=document.querySelector(".categories-list"),ce=document.querySelector(".workouts-container");const R=document.querySelector(".categories-pagination");async function T(r){try{const e=await j(r);console.log(e),R.innerHTML="",e.totalPages>1&&(R.appendChild(L(e.totalPages,0)),document.querySelectorAll(".pagination-page").forEach(a=>a.addEventListener("click",le))),x.innerHTML=N(e.results),W()}catch(e){console.error("Error loading categories:",e)}}async function le(r){const t=Number(r.target.dataset.index)+1,a=document.querySelector(".filter-button.active"),o=a?a.dataset.filter:"";try{const s=await j(o,t);x.innerHTML=N(s.results),W()}catch(s){console.log(s)}}function W(){document.querySelectorAll(".categories-item").forEach(e=>{e.addEventListener("click",z)})}function z(r){r.target.removeEventListener("click",z),x.style.display="none";let e=r.target.dataset.name;switch(r.target.dataset.filter){case"Muscles":w("",encodeURIComponent(e),"","",1,10);break;case"Body parts":w(encodeURIComponent(e),"","","",1,10);break;case"Equipment":w("","",encodeURIComponent(e),"",1,10);break}ce.style.display="flex"}T("Musculs");const S=document.querySelector(".subscribe-form"),M=S.elements.email;let h={email:""};const B="subscribe-form-state",de=()=>{localStorage.setItem(B,JSON.stringify(h))},ue=()=>{const r=localStorage.getItem(B);r&&(h=JSON.parse(r),M.value=h.email||"")};ue();S.addEventListener("input",r=>{const{name:e,value:t}=r.target;h[e]=t.trim(),de()});S.addEventListener("submit",async r=>{if(r.preventDefault(),!M.validity.valid){alert("Please enter a valid email");return}h.email=M.value.trim();try{const e=await D.post(re(),h);e.data.error?e.status===409?alert("This email is already subscribed."):alert("Subscription failed. Please try again later."):alert("Subscription successful!")}catch(e){e.response&&e.response.status===409?alert("This email is already subscribed."):alert("Subscription failed. Please try again later.")}S.reset(),localStorage.removeItem(B)});window.openMenu=function(){document.getElementById("backdrop").classList.add("is-open")};window.closeMenu=function(){document.getElementById("backdrop").classList.remove("is-open")};window.menuLayoutClickHandler=function(e){e.stopPropagation()};const me=document.querySelector(".selected-category");document.querySelector(".categories-list");const O=document.querySelectorAll(".filter-button"),ge=document.querySelector("#search-form"),pe=document.querySelector("#search-input");O.forEach(r=>{r.addEventListener("click",e=>{let t=e.target.getAttribute("data-filter");t==="Body-parts"&&(t="Body parts"),T(t),O.forEach(a=>a.classList.remove("active")),e.target.classList.add("active")})});ge.addEventListener("submit",async r=>{r.preventDefault();const e=pe.value.trim(),t=me.textContent.trim().split(" / ")[1];try{const a=await getExercises(t,e);he(a)}catch(a){console.error("Error loading exercises:",a)}});function he(r){console.log("Exercises found:",r)}T();const fe=()=>{const r=document.querySelector(".home-page"),e=document.querySelector(".favorites-page"),t=document.querySelector(".router");switch(window.location.pathname){case"/":t.children[0].classList.add("active"),t.children[1].classList.remove("active"),r.classList.remove("hidden"),e.classList.add("hidden");break;case"/favorites":t.children[0].classList.remove("active"),t.children[1].classList.add("active"),r.classList.add("hidden"),e.classList.remove("hidden");break}window.scrollTo(0,0)},ye=new MutationObserver(()=>{fe()});ye.observe(document,{childList:!0,subtree:!0});const k=document.querySelector(".router");document.querySelector("body");let H=0;window.addEventListener("scroll",()=>{k.classList.add("sticky");const r=document.documentElement.scrollTop;r>0?r>H?k.classList.add("hidden"):k.classList.remove("hidden"):k.classList.remove("sticky"),H=r});window.location.pathname.includes("task-management")&&U(()=>Promise.resolve({}),__vite__mapDeps([0]));async function ve(){if(!window.taskManager)try{const e=(await U(()=>import("./task-manager-M1fNHe4L.js"),[])).default;window.taskManager=new e,await new Promise(t=>setTimeout(t,200))}catch(r){return console.error("Error initializing TaskManager:",r),null}return window.taskManager}document.addEventListener("DOMContentLoaded",async()=>{try{if(window.location.pathname.includes("task-management")){await ve();const r=document.getElementById("addTaskBtn");r&&r.addEventListener("click",async e=>{e.preventDefault(),window.taskManager?window.taskManager.showModal():console.error("TaskManager not initialized")})}}catch(r){console.error("Error initializing task manager:",r)}});
//# sourceMappingURL=index-DahJKXYR.js.map
