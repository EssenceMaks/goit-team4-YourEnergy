const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/task-manager-Di9FvUSR.css"])))=>i.map(i=>d[i]);
/* empty css               */import{a as $}from"./vendor-CNNbG8jS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const H="modulepreload",_=function(e){return"/goit-team4-YourEnergy/"+e},C={},A=function(t,r,a){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),i=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));o=Promise.allSettled(r.map(c=>{if(c=_(c),c in C)return;C[c]=!0;const d=c.endsWith(".css"),k=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${k}`))return;const l=document.createElement("link");if(l.rel=d?"stylesheet":H,d||(l.as="script"),l.crossOrigin="",l.href=c,i&&l.setAttribute("nonce",i),document.head.appendChild(l),d)return new Promise((O,D)=>{l.addEventListener("load",O),l.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(n){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=n,window.dispatchEvent(i),!i.defaultPrevented)throw n}return o.then(n=>{for(const i of n||[])i.status==="rejected"&&s(i.reason);return t().catch(s)})},w=()=>"https://your-energy.b.goit.study/api",F=()=>w()+"/exercises",B=()=>w()+"/filters",N=()=>w()+"/quote",j=()=>w()+"/subscription",W=(e,t,r,a,o,s)=>`${F()}?bodypart=${e}&muscles=${t}&equipment=${r}&${a}=2&page=${o}&limit=${s}`,z=()=>j();async function K(){const e=new Date().toISOString().split("T")[0],t=localStorage.getItem("quote"),r=localStorage.getItem("author"),a=localStorage.getItem("quoteDate");if(t&&r&&a===e){document.querySelector(".sidebar-quote").textContent=`${t}`,document.querySelector(".sidebar-quote-author").textContent=`${r}`;return}try{const o=await fetch(N());if(!o.ok)throw new Error("Failed to fetch quote");const s=await o.json(),n=s.quote,i=s.author;document.querySelector(".sidebar-quote").textContent=`${n}`,document.querySelector(".sidebar-quote-author").textContent=`${i}`,localStorage.setItem("quote",n),localStorage.setItem("author",i),localStorage.setItem("quoteDate",e)}catch(o){console.error("Error fetching quote:",o)}}K();function b(e){return e.sort((t,r)=>t.name.localeCompare(r.name)).map(({filter:t,name:r,imgURL:a})=>`<li class='categories-item' data-name='${r}' data-filter='${t}' tabindex="0" 
             style="background-image:url('${a}');background-size:cover; background-repeat:no-repeat; background-position:center">         
             <h3 class="categories-item-title">${r}</h3>
             <p class="categories-item-text">${t}</p>   
          </li>`).join("")}function V(e){return e.sort((t,r)=>t.name.localeCompare(r.name)).map(({_id:t,name:r,burnedCalories:a,bodyPart:o,target:s,gifUrl:n})=>`
        <li class='workouts-item' data-name='${r}' ' data-id='${t}'> 
          <h4 class="workout-btn">workout</h4>
          <button class="workouts-item-start">Start</button>        
          <h3 class="workouts-item-title">${r}</h3>
          <ul class='workouts-items-list'>
              <li class="workouts-items-calories">Calories: ${a}</li>
              <li class="workouts-items-body-part">Body Part: ${o}</li>
              <li class="workouts-items-target">Target: ${s}</li>
          </ul>
        </li>`).join("")}const J=document.querySelectorAll(".pagination"),p=(e,t)=>{let r=new DocumentFragment;for(let a=0;a<e;a++){let o=document.createElement("p");o.setAttribute("data-index",a),o.innerHTML=a+1,o.classList.add("pagination-page"),a===t&&o.classList.add("selected"),r.appendChild(o)}return r};J.forEach(e=>{if(e.hasAttribute("data-total")){e.innerHTML="";const t=parseInt(e.getAttribute("data-total")),r=parseInt(e.getAttribute("data-current"));e.appendChild(p(t,r)),e.addEventListener("click",async o=>{o.target.classList.contains("pagination-page")&&(e.querySelectorAll(".pagination-page").forEach(n=>{n.classList.remove("selected")}),o.target.classList.add("selected"),o.target.parentElement.setAttribute("data-current",o.target.getAttribute("data-index")))}),new MutationObserver(o=>{for(let s of o)if(s.type==="attributes"&&s.attributeName==="total-pages"){const n=e.getAttribute("total-pages");e.innerHTML="",e.appendChild(p(n,parseInt(e.getAttribute("current-page"))))}}).observe(e,{attributes:!0})}});let Q=document.querySelector(".workouts-container-list");const m=document.querySelector(".workouts-pagination");let g={bodypart:"",muscles:"",equipment:"",keyword:""};async function f(e="",t="",r="",a="",o=1,s=8){g={bodypart:e,muscles:t,equipment:r,keyword:a};try{const n=W(e,t,r,a,o,s=8);console.log(`Request URL: ${n}`);const i=await fetch(n);if(!i.ok)throw new Error("Failed to fetch workouts");const c=await i.json();Q.innerHTML=V(c.results),console.log(c.totalPages,o),Y(c.totalPages,o),document.querySelectorAll(".workouts-item").forEach(k=>{k.addEventListener("click",T)})}catch(n){console.error("Error loading workouts:",n)}}function Y(e,t){m.innerHTML="",m.setAttribute("data-total",e),m.setAttribute("data-current",t-1),m.appendChild(p(e,t-1)),m.querySelectorAll(".pagination-page").forEach(r=>{r.addEventListener("click",a=>{const o=parseInt(r.getAttribute("data-index"))+1;f(g.bodypart,g.muscles,g.equipment,g.keyword,o)})})}function T(e){e.target.removeEventListener("click",T);const t=e.target.closest(".workouts-item"),r=t.dataset.name,a=t.dataset.id;console.log("name:",r,"; id:",a)}async function L(e="Muscles",t=1,r=12){r=window.innerWidth<=768?9:r;const{data:o}=await $.get(B(),{params:{filter:e,page:t,limit:r}});return o}let v=document.querySelector(".categories-list"),G=document.querySelector(".workouts-container");const X=document.querySelector(".filter-button.active"),I=document.querySelector(".categories-pagination");async function Z(e){try{const t=await L();console.log(t),I.innerHTML="",t.totalPages>1&&(I.appendChild(p(t.totalPages,0)),document.querySelectorAll(".pagination-page").forEach(o=>o.addEventListener("click",ee))),v.innerHTML=b(t.results),document.querySelectorAll(".categories-item").forEach(a=>{a.addEventListener("click",x)})}catch(t){console.error("Error loading categories:",t)}}async function ee(e){const r=Number(e.target.dataset.index)+1,a=X.dataset.filter;try{const o=await L(a,r);v.innerHTML=b(o.results)}catch(o){console.log(o)}}function x(e){e.target.removeEventListener("click",x),v.style.display="none";let t=e.target.dataset.name;switch(e.target.dataset.filter){case"Muscles":f("",encodeURIComponent(t),"","",1,10);break;case"Body parts":f(encodeURIComponent(t),"","","",1,10);break;case"Equipment":f("","",encodeURIComponent(t),"",1,10);break}G.style.display="flex"}Z();const y=document.querySelector(".subscribe-form"),E=y.elements.email;let u={email:""};const S="subscribe-form-state",te=()=>{localStorage.setItem(S,JSON.stringify(u))},re=()=>{const e=localStorage.getItem(S);e&&(u=JSON.parse(e),E.value=u.email||"")};re();y.addEventListener("input",e=>{const{name:t,value:r}=e.target;u[t]=r.trim(),te()});y.addEventListener("submit",async e=>{if(e.preventDefault(),!E.validity.valid){alert("Please enter a valid email");return}u.email=E.value.trim();try{const t=await $.post(z(),u);t.data.error?t.status===409?alert("This email is already subscribed."):alert("Subscription failed. Please try again later."):alert("Subscription successful!")}catch(t){t.response&&t.response.status===409?alert("This email is already subscribed."):alert("Subscription failed. Please try again later.")}y.reset(),localStorage.removeItem(S)});window.openMenu=function(){document.getElementById("backdrop").classList.add("is-open")};window.closeMenu=function(){document.getElementById("backdrop").classList.remove("is-open")};window.menuLayoutClickHandler=function(t){t.stopPropagation()};window.location.pathname.includes("task-management")&&A(()=>Promise.resolve({}),__vite__mapDeps([0]));async function oe(){if(!window.taskManager)try{const t=(await A(()=>import("./task-manager-M1fNHe4L.js"),[])).default;window.taskManager=new t,await new Promise(r=>setTimeout(r,200))}catch(e){return console.error("Error initializing TaskManager:",e),null}return window.taskManager}document.addEventListener("DOMContentLoaded",async()=>{try{if(window.location.pathname.includes("task-management")){await oe();const e=document.getElementById("addTaskBtn");e&&e.addEventListener("click",async t=>{t.preventDefault(),window.taskManager?window.taskManager.showModal():console.error("TaskManager not initialized")})}}catch(e){console.error("Error initializing task manager:",e)}});let h=[];const P=document.querySelector(".selected-category"),q=document.querySelector(".categories-list"),M=document.querySelectorAll(".filter-button"),ae=document.querySelector("#search-form"),ne=document.querySelector("#search-input");async function se(){try{const e=await L();console.log("Отримані категорії з API:",e.results),q.innerHTML=b(e.results),h=e.results.map(r=>({name:r.name,imgURL:r.imgURL,filter:r.filter})),console.log("Збережені категорії в allCategories:",h),document.querySelectorAll(".categories-item").forEach(r=>{r.addEventListener("click",R)})}catch(e){console.error("Error loading categories:",e)}}function ie(e="all"){console.log("Значення фільтра:",e);const t=e==="all"?h:h.filter(r=>r.filter.toLowerCase()===e.toLowerCase());console.log("Категорії після фільтрації:",t),ce(t)}function ce(e){console.log("Категорії для відображення:",e);const t=b(e);console.log("Згенерований HTML для категорій:",t),q.innerHTML=t,document.querySelectorAll(".categories-item").forEach(a=>{a.addEventListener("click",R)})}M.forEach(e=>{e.addEventListener("click",t=>{const r=t.target.getAttribute("data-filter");ie(r),M.forEach(a=>a.classList.remove("active")),t.target.classList.add("active")})});ae.addEventListener("submit",async e=>{e.preventDefault();const t=ne.value.trim(),r=P.textContent.trim().split(" / ")[1];try{const a=await getExercises(r,t);U(a)}catch(a){console.error("Error loading exercises:",a)}});function R(e){const t=e.currentTarget.dataset.name;P.textContent=` / ${t}`,q.style.display="none",le(t)}async function le(e,t=""){try{const r=await getExercises(e,t);U(r)}catch(r){console.error("Error loading exercises:",r)}}function U(e){console.log("Exercises found:",e)}se();
//# sourceMappingURL=index-BmjnxLN0.js.map
